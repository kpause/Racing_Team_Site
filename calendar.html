
<!doctype html>
<html lang='en'>
<head>
  <meta charset="utf-8">
  <title>Ridgefield Bicycle Racing Team</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Ridgefield Bicycle Racing Team — serious racing, supportive culture, Ridgefield roots.">
  https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;600&display=swap
  assets/style.css
  assets/images/favicon.png
  <style>
    .calendar { display:grid; gap:1rem; margin:2rem 0; }
    .month { border:1px solid #eee; border-radius:.5rem; background:#fff; overflow:hidden; }
    .month h3 { margin:0; padding:.75rem 1rem; background:#f5f5f5; border-bottom:1px solid #eee; }
    .grid { display:grid; grid-template-columns:repeat(7,1fr); }
    .cell { padding:.5rem; min-height:60px; border-top:1px solid #eee; border-right:1px solid #f5f5f5; position:relative; }
    .cell:nth-child(7n){border-right:none}
    .cell .day { font-size:.85rem; color:#666; }
    .event-dot { width:8px; height:8px; background:#156D3B; border-radius:50%; position:absolute; bottom:6px; left:6px; }
    .event-list { margin-top:1rem; }
    .event-item { padding:.5rem 0; border-bottom:1px solid #eee; }
    .dow { display:grid; grid-template-columns:repeat(7,1fr); background:#fafafa; color:#666; font-size:.8rem; padding:.4rem 0; }
    .dow span{ text-align:center; }
  </style>
</head>
<body>
<header class="site-header">
  <div class="wrap">
    index.htmlRBRT</a>
    <nav>
      about.htmlAbout</a>
      team.htmlTeam</a>
      calendar.htmlCalendar</a>
      results.htmlResults</a>
      sponsors.htmlSponsors</a>
      join.htmlJoin</a>
    </nav>
  </div>
</header>

<main class='wrap'>
  <h1>Calendar</h1>
  <p>Upcoming racing events from our schedule. Click a date with a dot to see details below.</p>
  <div id='calendar' class='calendar'></div>
  <h2>Events</h2>
  <div id='eventList' class='event-list'></div>
</main>

<footer class="site-footer">
  <div class="wrap">
    <p>&copy; <span id="year"></span> Ridgefield Bicycle Racing Team</p>
    <p>
      #Instagram</a> ·
      #Strava</a> ·
      about.html#ethosEthos</a> ·
      join.html#contactContact</a>
    </p>
  </div>
</footer>
<script>document.getElementById('year').textContent = new Date().getFullYear();</script>

<script>
function buildMonths(events) {
  const cal = document.getElementById('calendar');
  cal.innerHTML = '';
  const today = new Date();
  const monthsToShow = 3;
  for(let i=0;i<monthsToShow;i++) {
    const first = new Date(today.getFullYear(), today.getMonth()+i, 1);
    const month = first.getMonth();
    const year = first.getFullYear();
    const container = document.createElement('section');
    container.className = 'month';
    container.innerHTML = `<h3>${first.toLocaleString(undefined,{month:'long', year:'numeric'})}</h3>`;
    const dow = document.createElement('div');
    dow.className = 'dow';
    ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].forEach(d=>{
      const s = document.createElement('span'); s.textContent=d; dow.appendChild(s);
    });
    container.appendChild(dow);
    const grid = document.createElement('div');
    grid.className='grid';
    const startDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month+1, 0).getDate();
    for(let b=0;b<startDay;b++) { const c = document.createElement('div'); c.className='cell'; grid.appendChild(c); }
    for(let d=1; d<=daysInMonth; d++) {
      const date = new Date(year, month, d);
      const key = date.toISOString().slice(0,10);
      const dayEvents = events.filter(e => e.date === key);
      const cell = document.createElement('div');
      cell.className='cell';
      cell.innerHTML = `<span class='day'>${d}</span>`;
      if(dayEvents.length) {
        const dot = document.createElement('span'); dot.className='event-dot'; cell.appendChild(dot);
        cell.style.cursor='pointer';
        cell.addEventListener('click', ()=> renderEventList(dayEvents));
      }
      grid.appendChild(cell);
    }
    container.appendChild(grid);
    cal.appendChild(container);
  }
}
function renderEventList(list) {
  const wrap = document.getElementById('eventList');
  if(!list || !list.length) return;
  const items = list.sort((a,b)=> new Date(a.date) - new Date(b.date))
    .map(ev=>`<div class='event-item'><strong>${new Date(ev.date).toLocaleDateString()}</strong> — ${ev.name} (${ev.discipline}) — ${ev.location} https://www.bikereg.com/Details</a></div>`).join('');
  wrap.innerHTML = items;
}
fetch('assets/data/events.json').then(r=>r.json()).then(events=>{
  const today = new Date();
  const ups = events.filter(e=> new Date(e.date) >= new Date(today.getFullYear(), today.getMonth(), 1));
  buildMonths(ups);
  renderEventList(ups.slice(0,5));
});
</script>
</body></html>

